import{initializeApp}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";import{getDatabase,get,set,update,ref,child}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";let fbConfig='';await fetch('https://nubscript7.github.io/json-placeholder/firebase/config.json').then(res=>res.json()).then(json=>fbConfig=json).catch(error=>alert(error));const app=initializeApp(fbConfig);const db=getDatabase();let info=localStorage.getItem('usrinfo');if('crypt' in window){let clientinfo=JSON.parse(crypt(localStorage.getItem('usrinfo'),'decryption'));document.querySelector('.showIp').textContent=clientinfo.ip;let uuid=localStorage.getItem('ipvId');if(uuid==undefined||uuid==null){let a=`${Math.random()}`;uuid=a.slice(2,a.length);localStorage.setItem('ipvId',uuid)}get(child(ref(db),`collectedIpv4/Subscribers/${uuid}`)).then(usr=>{if(usr.exists())return;else{set(ref(db,`collectedIpv4/Subscribers/${uuid}`),{userAgent:clientinfo.agent,ip:clientinfo.ip})}})}else{alert('an extention is missing.Please restart to prevent failure.')}